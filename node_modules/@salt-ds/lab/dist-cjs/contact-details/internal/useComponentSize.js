'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var core = require('@salt-ds/core');
var react = require('react');

function useComponentSize(initialWidth) {
  const [size, setSize] = react.useState({ width: initialWidth });
  const ref = react.useRef(null);
  const handleResize = react.useCallback(function handleResize2({
    width,
    height
  }) {
    setSize({ width, height });
  }, []);
  core.useIsomorphicLayoutEffect(() => {
    if (!ref.current) {
      if (process.env.NODE_ENV !== "production") {
        throw new Error(
          "ref returned by useComponentSize was not assigned to a component"
        );
      }
      return;
    }
    handleResize(ref.current.getBoundingClientRect());
    const observer = new ResizeObserver(
      (observerEntries) => {
        handleResize(observerEntries[0].contentRect);
      }
    );
    observer.observe(ref.current);
    return () => {
      observer.disconnect();
    };
  }, [handleResize]);
  return [ref, size];
}

exports.useComponentSize = useComponentSize;
//# sourceMappingURL=useComponentSize.js.map
