'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var react = require('react');
var TabPanel = require('./TabPanel.js');

const useItemsWithIds = (children, id = "root") => {
  const normalizeItems = react.useCallback(
    (items) => {
      const sourceMap2 = {};
      const tabDescriptors = react.Children.toArray(items).filter(react.isValidElement).map((child, index) => {
        const {
          "data-label": dataLabel = `Tab ${index + 1}`,
          enableClose: closeable,
          label = dataLabel
        } = child.props;
        const tabId = `${id}-${index}`;
        const tabPanelId = `${tabId}-panel`;
        const props = {
          "aria-labelledby": tabId,
          id: tabPanelId,
          key: tabId
        };
        const element = child.type === TabPanel.TabPanel ? react.cloneElement(child, props) : /* @__PURE__ */ react.createElement(TabPanel.TabPanel, {
          ...props,
          label,
          key: tabId
        }, child);
        const tab = {
          closeable,
          element,
          id: tabId,
          label
        };
        sourceMap2[tabId] = tab;
        return tab;
      });
      return [tabDescriptors, sourceMap2];
    },
    [id]
  );
  const [sourceWithIds, sourceMap] = react.useMemo(() => {
    return normalizeItems(children);
  }, [normalizeItems, children]);
  const itemById = react.useCallback((id2) => sourceMap[id2], [sourceMap]);
  return [sourceWithIds, itemById];
};

exports.useItemsWithIds = useItemsWithIds;
//# sourceMappingURL=useItemsWithIds.js.map
