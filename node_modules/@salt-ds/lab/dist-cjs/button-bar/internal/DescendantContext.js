'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var jsxRuntime = require('react/jsx-runtime');
var core = require('@salt-ds/core');
var react = require('react');

const DescendantContext = react.createContext({});
function DescendantProvider({
  items,
  setItems,
  ...props
}) {
  const assigning = react.useRef(true);
  const [, forceUpdate] = react.useState();
  core.useIsomorphicLayoutEffect(() => {
    if (assigning.current) {
      assigning.current = false;
      forceUpdate({});
    } else {
      assigning.current = true;
    }
    return () => {
      if (assigning.current) {
        setItems([]);
      }
    };
  }, [items]);
  return /* @__PURE__ */ jsxRuntime.jsx(DescendantContext.Provider, {
    ...props,
    value: { setItems, assigning }
  });
}

exports.DescendantContext = DescendantContext;
exports.DescendantProvider = DescendantProvider;
//# sourceMappingURL=DescendantContext.js.map
