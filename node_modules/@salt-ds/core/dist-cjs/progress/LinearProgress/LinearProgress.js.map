{"version":3,"file":"LinearProgress.js","sources":["../src/progress/LinearProgress/LinearProgress.tsx"],"sourcesContent":["import { useComponentCssInjection } from \"@salt-ds/styles\";\nimport { useWindow } from \"@salt-ds/window\";\nimport { clsx } from \"clsx\";\nimport { type ComponentPropsWithoutRef, forwardRef } from \"react\";\nimport { Text } from \"../../text\";\nimport { makePrefixer } from \"../../utils\";\n\nimport linearProgressCss from \"./LinearProgress.css\";\n\nconst withBaseName = makePrefixer(\"saltLinearProgress\");\n\nexport interface LinearProgressProps extends ComponentPropsWithoutRef<\"div\"> {\n  /**\n   * The value of the buffer indicator.\n   * Value between `min` and `max`.\n   * When no `value` and `bufferValue` is passed in, show as indeterminate state.\n   */\n  bufferValue?: number;\n  /**\n   * Whether to hide the text label within the progress. Defaults to `false`.\n   */\n  hideLabel?: boolean;\n  /**\n   * The value of the max progress indicator.\n   * Default value is 100.\n   */\n  max?: number;\n  /**\n   * The value of the min progress indicator.\n   * Default value is 0.\n   */\n  min?: number;\n  /**\n   * The value of the progress indicator.\n   * Value between `min` and `max`.\n   * When no `value` and `bufferValue` is passed in, show as indeterminate state.\n   */\n  value?: number;\n}\n\nexport const LinearProgress = forwardRef<HTMLDivElement, LinearProgressProps>(\n  function LinearProgress(\n    {\n      className,\n      hideLabel = false,\n      max = 100,\n      min = 0,\n      value,\n      bufferValue,\n      ...rest\n    },\n    ref,\n  ) {\n    const targetWindow = useWindow();\n    useComponentCssInjection({\n      testId: \"salt-linear-progress\",\n      css: linearProgressCss,\n      window: targetWindow,\n    });\n\n    const isIndeterminate = value === undefined && bufferValue === undefined;\n    const progress =\n      value === undefined ? 0 : ((value - min) / (max - min)) * 100;\n    const buffer =\n      bufferValue === undefined ? 0 : ((bufferValue - min) / (max - min)) * 100;\n    const barStyle = {\n      width: isIndeterminate ? undefined : `${progress}%`,\n    };\n    const bufferStyle = {\n      width: `${buffer}%`,\n    };\n\n    return (\n      <div\n        className={clsx(withBaseName(), className)}\n        ref={ref}\n        role=\"progressbar\"\n        aria-valuemax={max}\n        aria-valuemin={min}\n        aria-valuenow={value === undefined ? undefined : Math.round(value)}\n        {...rest}\n      >\n        <div className={withBaseName(\"barContainer\")}>\n          <div\n            className={clsx(withBaseName(\"bar\"), {\n              [withBaseName(\"indeterminate\")]: isIndeterminate,\n            })}\n            style={barStyle}\n          />\n          {bufferValue && bufferValue > 0 ? (\n            <div className={withBaseName(\"buffer\")} style={bufferStyle} />\n          ) : null}\n          <div className={withBaseName(\"track\")} />\n        </div>\n        {!hideLabel && (\n          <Text styleAs=\"h2\" className={withBaseName(\"progressLabel\")}>\n            {isIndeterminate ? \"â€” %\" : `${Math.round(progress)} %`}\n          </Text>\n        )}\n      </div>\n    );\n  },\n);\n"],"names":["makePrefixer","forwardRef","LinearProgress","useWindow","useComponentCssInjection","linearProgressCss","jsxs","clsx","jsx","Text"],"mappings":"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"}