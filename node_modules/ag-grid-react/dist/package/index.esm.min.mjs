import Qt,{Component as Yt}from"react";import{BaseComponentWrapper as Zt,GridCoreCreator as Xt,ModuleRegistry as es,VanillaFrameworkOverrides as ts,_combineAttributesAndGridOptions as ss,_getGlobalGridOption as rs,_isClientSideRowModel as ns,_isServerSideRowModel as os,_processOnChange as as,_warnOnce as cs}from"ag-grid-community";import $e,{forwardRef as is,useCallback as Je,useContext as ls,useEffect as us,useImperativeHandle as ds,useMemo as Ke,useRef as ee,useState as Ee}from"react";import{_escapeString as ps}from"ag-grid-community";import ue,{forwardRef as ms,useCallback as hs,useContext as Cs,useImperativeHandle as fs,useLayoutEffect as gs,useMemo as qe,useRef as be,useState as Ce}from"react";import ys from"react";var q=ys.createContext({}),Ie=(e,t,s,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const d=e.newAgStackInstance();if(d==null)return;let c,o,u=!1;return d.then(a=>{if(u){t.destroyBean(a);return}c=a,o=c.getGui(),s.appendChild(o),Pt(n,c)}),()=>{u=!0,c&&(o?.parentElement?.removeChild(o),t.destroyBean(c),n&&Pt(n,void 0))}},Pt=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const s=e;s.current=t}};import vs from"react";import Rs from"react-dom";var se=(...e)=>e.filter(s=>s!=null&&s!=="").join(" "),te=class $t{constructor(...t){this.classesMap={},t.forEach(s=>{this.classesMap[s]=!0})}setClass(t,s){if(!!this.classesMap[t]==s)return this;const r=new $t;return r.classesMap={...this.classesMap},r.classesMap[t]=s,r}toString(){return Object.keys(this.classesMap).filter(s=>this.classesMap[s]).join(" ")}},Pe=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,s=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===s()},at=vs.version?.split(".")[0],ws=at==="16"||at==="17";function Es(){return at==="19"}var Qe=!1;function bs(e){return Qe||setTimeout(()=>Qe=!1,0),Qe=!0,e()}var ct=(e,t)=>{!ws&&e&&!Qe?Rs.flushSync(t):t()};function it(e,t,s){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(s||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const n=[],r=[],d=new Map,c=new Map;for(let o=0;o<t.length;o++){const u=t[o];c.set(u.instanceId,u)}for(let o=0;o<e.length;o++){const u=e[o];d.set(u.instanceId,u),c.has(u.instanceId)&&n.push(u)}for(let o=0;o<t.length;o++){const u=t[o],a=u.instanceId;d.has(a)||r.push(u)}return n.length===e.length&&r.length===0?e:n.length===0&&r.length===t.length?t:n.length===0?r:r.length===0?n:[...n,...r]}var St=ms((e,t)=>{const{ctrlsFactory:s,context:n}=Cs(q),r=be(null),d=be(null),c=be(null),o=be(null),u=be(null),a=be(),[i,f]=Ce(),[v,g]=Ce(),[m,h]=Ce(),[l,C]=Ce(()=>new te),[R,y]=Ce(()=>new te("ag-hidden")),[w,b]=Ce(()=>new te("ag-hidden")),[O,P]=Ce(()=>new te("ag-invisible"));fs(t,()=>({refresh(){return!1}})),gs(()=>Ie(i,n,d.current),[i]);const k=hs(G=>{if(r.current=G,!G){a.current=n.destroyBean(a.current);return}const x={setInnerRenderer:(A,T)=>{f(A),h(T)},setChildCount:A=>g(A),addOrRemoveCssClass:(A,T)=>C(W=>W.setClass(A,T)),setContractedDisplayed:A=>b(T=>T.setClass("ag-hidden",!A)),setExpandedDisplayed:A=>y(T=>T.setClass("ag-hidden",!A)),setCheckboxVisible:A=>P(T=>T.setClass("ag-invisible",!A))},U=s.getInstance("groupCellRendererCtrl");U&&(a.current=n.createBean(U),a.current.init(x,G,c.current,o.current,u.current,St,e))},[]),M=qe(()=>`ag-cell-wrapper ${l.toString()}`,[l]),p=qe(()=>`ag-group-expanded ${R.toString()}`,[R]),E=qe(()=>`ag-group-contracted ${w.toString()}`,[w]),F=qe(()=>`ag-group-checkbox ${O.toString()}`,[O]),J=i&&i.componentFromFramework,I=J?i.componentClass:void 0,_=i==null&&m!=null,B=ps(m,!0);return ue.createElement("span",{className:M,ref:k,...e.colDef?{}:{role:a.current?.getCellAriaRole()}},ue.createElement("span",{className:p,ref:o}),ue.createElement("span",{className:E,ref:u}),ue.createElement("span",{className:F,ref:c}),ue.createElement("span",{className:"ag-group-value",ref:d},_&&ue.createElement(ue.Fragment,null,B),J&&ue.createElement(I,{...i.params})),ue.createElement("span",{className:"ag-group-child-count"},v))}),kt=St;import{AgPromise as lt}from"ag-grid-community";import Ft,{memo as Ps,useEffect as Ss,useState as ks}from"react";import{createContext as Fs}from"react";var Oe=Fs({setMethods:()=>{}}),Ms=e=>{const{initialProps:t,addUpdateCallback:s,CustomComponentClass:n,setMethods:r}=e,[{key:d,...c},o]=ks(t);return Ss(()=>{s(u=>o(u))},[]),Ft.createElement(Oe.Provider,{value:{setMethods:r}},Ft.createElement(n,{key:d,...c}))},Bs=Ps(Ms);import{AgPromise as ut,_warnOnce as Mt}from"ag-grid-community";import{createElement as Gs}from"react";import{createPortal as xs}from"react-dom";var As=0;function Bt(){return`agPortalKey_${++As}`}var Gt=class{constructor(e,t,s,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=s,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=Bt(),this.portalKey=Bt(),this.instanceCreated=this.isStatelessComponent()?ut.resolve(!1):new ut(r=>{this.resolveInstanceCreated=r})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),s=document.createElement(t||"div");return s.classList.add("ag-react-container"),e.reactContainer=s,s}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(Mt('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(Mt('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const s=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!s){setTimeout(()=>this.callMethod(e,t));return}const n=s[e];if(n)return n.apply(s,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new ut(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.addParentContainerStyleAndClasses(),this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=xs(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return Gs(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const s=this[`${e}Component`];if(!this.suppressFallbackMethods&&s)return s.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function dt(e,t,s){e.forEach(n=>{const r=t[n];r&&(s[n]=r)})}var ae=class extends Gt{constructor(){super(...arguments),this.awaitUpdateCallback=new lt(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=Bs}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:s=>this.setMethods(s),addUpdateCallback:s=>{this.updateCallback=()=>(s(this.getProps()),new lt(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,dt(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new lt(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Is=class extends ae{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Os=class extends ae{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Ds=class extends ae{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:s,shake:n}=this;return e.label=t,e.icon=s,e.shake=n,e}},Ws=class extends ae{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};import{AgPromise as Ts}from"ag-grid-community";function xt(e,t){e.parentFilterInstance(s=>{(s.setModel(t)||Ts.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Ns=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=s=>this.updateModel(s)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){dt(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),xt(this.floatingFilterParams,e)}},Hs=class extends ae{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),xt(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},_s=class extends ae{refresh(e){this.sourceParams=e,this.refreshProps()}},Us=class extends ae{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},Ls=class extends ae{refresh(e){this.sourceParams=e,this.refreshProps()}},Vs=class extends ae{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},js=class extends ae{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};import{AgPromise as zs,_warnOnce as $s}from"ag-grid-community";function Js(e,t){(e?.getInstance?.()??zs.resolve(void 0)).then(n=>t(n))}function Ye(){$s("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var Ks=1e3,qs=class{constructor(e,t,s){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=s||Ks}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,s){this.portals=[...this.portals,e],this.waitForInstance(t,s),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,s=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-s>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,s)})}}};import{GridCtrl as Qs}from"ag-grid-community";import De,{memo as Ys,useCallback as pt,useEffect as Zs,useMemo as Ze,useRef as Se,useState as he}from"react";import{CssClassManager as Xs,FakeHScrollComp as er,FakeVScrollComp as tr,GridBodyCtrl as sr,OverlayWrapperComponent as rr,_setAriaColCount as nr,_setAriaRowCount as or}from"ag-grid-community";import We,{memo as ar,useCallback as cr,useContext as ir,useMemo as re,useRef as ce,useState as Q}from"react";import{GridHeaderCtrl as lr}from"ag-grid-community";import Xe,{memo as ur,useCallback as dr,useContext as pr,useMemo as At,useRef as It,useState as Ot}from"react";import{HeaderRowContainerCtrl as mr}from"ag-grid-community";import fe,{memo as hr,useCallback as Cr,useContext as fr,useRef as mt,useState as Dt}from"react";import{HeaderRowType as Wt,_EmptyBean as gr}from"ag-grid-community";import et,{memo as yr,useCallback as Tt,useContext as vr,useMemo as Nt,useRef as tt,useState as ht}from"react";import{CssClassManager as Rr,_EmptyBean as wr,_removeAriaSort as Er,_setAriaSort as br}from"ag-grid-community";import Te,{memo as Pr,useCallback as Sr,useContext as kr,useEffect as Fr,useLayoutEffect as Mr,useMemo as Br,useRef as ke,useState as Gr}from"react";var xr=({ctrl:e})=>{const t=e.isAlive(),{context:s}=kr(q),n=t?e.getColId():void 0,[r,d]=Gr(),c=ke(),o=ke(null),u=ke(null),a=ke(null),i=ke(),f=ke();t&&!f.current&&(f.current=new Rr(()=>o.current));const v=Sr(l=>{if(o.current=l,c.current=l?s.createBean(new wr):s.destroyBean(c.current),!l||!t)return;const C={setWidth:y=>{o.current&&(o.current.style.width=y)},addOrRemoveCssClass:(y,w)=>f.current.addOrRemoveCssClass(y,w),setAriaSort:y=>{o.current&&(y?br(o.current,y):Er(o.current))},setUserCompDetails:y=>d(y),getUserCompInstance:()=>i.current||void 0};e.setComp(C,l,u.current,a.current,c.current);const R=e.getSelectAllGui();u.current?.insertAdjacentElement("afterend",R),c.current.addDestroyFunc(()=>R.remove())},[]);Mr(()=>Ie(r,s,a.current,i),[r]),Fr(()=>{e.setDragSource(o.current)},[r]);const g=Br(()=>!!(r?.componentFromFramework&&Pe(r.componentClass)),[r]),m=r&&r.componentFromFramework,h=r&&r.componentClass;return Te.createElement("div",{ref:v,className:"ag-header-cell","col-id":n,role:"columnheader"},Te.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),Te.createElement("div",{ref:a,className:"ag-header-cell-comp-wrapper",role:"presentation"},m&&g&&Te.createElement(h,{...r.params}),m&&!g&&Te.createElement(h,{...r.params,ref:i})))},Ar=Pr(xr);import{AgPromise as Ir,_EmptyBean as Or}from"ag-grid-community";import ge,{memo as Dr,useCallback as Wr,useContext as Tr,useLayoutEffect as Nr,useMemo as Fe,useRef as ye,useState as Me}from"react";var Hr=({ctrl:e})=>{const{context:t,gos:s}=Tr(q),[n,r]=Me(()=>new te("ag-header-cell","ag-floating-filter")),[d,c]=Me(()=>new te),[o,u]=Me(()=>new te("ag-floating-filter-button","ag-hidden")),[a,i]=Me("false"),[f,v]=Me(),[,g]=Me(1),m=ye(),h=ye(null),l=ye(null),C=ye(null),R=ye(null),y=ye(),w=ye(),b=B=>{B!=null&&y.current&&y.current(B)},O=Wr(B=>{if(h.current=B,m.current=B?t.createBean(new Or):t.destroyBean(m.current),!B)return;w.current=new Ir(x=>{y.current=x});const G={addOrRemoveCssClass:(x,U)=>r(A=>A.setClass(x,U)),addOrRemoveBodyCssClass:(x,U)=>c(A=>A.setClass(x,U)),setButtonWrapperDisplayed:x=>{u(U=>U.setClass("ag-hidden",!x)),i(x?"false":"true")},setWidth:x=>{h.current&&(h.current.style.width=x)},setCompDetails:x=>v(x),getFloatingFilterComp:()=>w.current?w.current:null,setMenuIcon:x=>R.current?.appendChild(x)};e.setComp(G,B,R.current,l.current,m.current)},[]);Nr(()=>Ie(f,t,l.current,b),[f]);const P=Fe(()=>n.toString(),[n]),k=Fe(()=>d.toString(),[d]),M=Fe(()=>o.toString(),[o]),p=Fe(()=>!!(f&&f.componentFromFramework&&Pe(f.componentClass)),[f]),E=Fe(()=>s.get("reactiveCustomComponents"),[]),F=Fe(()=>{if(f)if(E){const B=new Ns(f.params,()=>g(G=>G+1));return b(B),B}else f.componentFromFramework&&Ye()},[f]),J=F?.getProps(),I=f&&f.componentFromFramework,_=f&&f.componentClass;return ge.createElement("div",{ref:O,className:P,role:"gridcell"},ge.createElement("div",{ref:l,className:k,role:"presentation"},I&&!E&&ge.createElement(_,{...f.params,ref:p?()=>{}:b}),I&&E&&ge.createElement(Oe.Provider,{value:{setMethods:B=>F.setMethods(B)}},ge.createElement(_,{...J}))),ge.createElement("div",{ref:C,"aria-hidden":a,className:M,role:"presentation"},ge.createElement("button",{ref:R,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},_r=Dr(Hr);import{_EmptyBean as Ur}from"ag-grid-community";import Ne,{memo as Lr,useCallback as Vr,useContext as jr,useEffect as zr,useLayoutEffect as $r,useMemo as st,useRef as He,useState as _e}from"react";var Jr=({ctrl:e})=>{const{context:t}=jr(q),[s,n]=_e(()=>new te),[r,d]=_e(()=>new te),[c,o]=_e("false"),[u,a]=_e(),[i,f]=_e(),v=st(()=>e.getColId(),[]),g=He(),m=He(null),h=He(null),l=He(null),C=He(),R=Vr(k=>{if(m.current=k,g.current=k?t.createBean(new Ur):t.destroyBean(g.current),!k)return;const M={setWidth:p=>{m.current&&(m.current.style.width=p)},addOrRemoveCssClass:(p,E)=>n(F=>F.setClass(p,E)),setUserCompDetails:p=>f(p),setResizableDisplayed:p=>{d(E=>E.setClass("ag-hidden",!p)),o(p?"false":"true")},setAriaExpanded:p=>a(p),getUserCompInstance:()=>C.current||void 0};e.setComp(M,k,h.current,l.current,g.current)},[]);$r(()=>Ie(i,t,l.current),[i]),zr(()=>{m.current&&e.setDragSource(m.current)},[i]);const y=st(()=>!!(i?.componentFromFramework&&Pe(i.componentClass)),[i]),w=st(()=>"ag-header-group-cell "+s.toString(),[s]),b=st(()=>"ag-header-cell-resize "+r.toString(),[r]),O=i&&i.componentFromFramework,P=i&&i.componentClass;return Ne.createElement("div",{ref:R,className:w,"col-id":v,role:"columnheader","aria-expanded":u},Ne.createElement("div",{ref:l,className:"ag-header-cell-comp-wrapper",role:"presentation"},O&&y&&Ne.createElement(P,{...i.params}),O&&!y&&Ne.createElement(P,{...i.params,ref:C})),Ne.createElement("div",{ref:h,"aria-hidden":c,className:b}))},Kr=Lr(Jr),qr=({ctrl:e})=>{const{context:t}=vr(q),{topOffset:s,rowHeight:n}=Nt(()=>e.getTopAndHeight(),[]),r=e.getAriaRowIndex(),d=e.getHeaderRowClass(),[c,o]=ht(()=>n+"px"),[u,a]=ht(()=>s+"px"),i=tt(null),f=tt(null),[v,g]=ht(()=>e.getHeaderCtrls()),m=tt(),h=tt(null),l=Tt(y=>{if(h.current=y,m.current=y?t.createBean(new gr):t.destroyBean(m.current),!y)return;const w={setHeight:b=>o(b),setTop:b=>a(b),setHeaderCtrls:(b,O,P)=>{f.current=i.current,i.current=b;const k=it(f.current,b,O);k!==f.current&&ct(P,()=>g(k))},setWidth:b=>{h.current&&(h.current.style.width=b)}};e.setComp(w,m.current,!1)},[]),C=Nt(()=>({height:c,top:u}),[c,u]),R=Tt(y=>{switch(e.getType()){case Wt.COLUMN_GROUP:return et.createElement(Kr,{ctrl:y,key:y.instanceId});case Wt.FLOATING_FILTER:return et.createElement(_r,{ctrl:y,key:y.instanceId});default:return et.createElement(Ar,{ctrl:y,key:y.instanceId})}},[]);return et.createElement("div",{ref:l,className:d,role:"row",style:C,"aria-rowindex":r},v.map(R))},Qr=yr(qr),Yr=({pinned:e})=>{const[t,s]=Dt(!0),[n,r]=Dt([]),{context:d}=fr(q),c=mt(null),o=mt(null),u=mt(),a=e==="left",i=e==="right",f=!a&&!i,v=Cr(h=>{if(c.current=h,u.current=h?d.createBean(new mr(e)):d.destroyBean(u.current),!h)return;const l={setDisplayed:s,setCtrls:C=>r(C),setCenterWidth:C=>{o.current&&(o.current.style.width=C)},setViewportScrollLeft:C=>{c.current&&(c.current.scrollLeft=C)},setPinnedContainerWidth:C=>{c.current&&(c.current.style.width=C,c.current.style.minWidth=C,c.current.style.maxWidth=C)}};u.current.setComp(l,c.current)},[]),g=t?"":"ag-hidden",m=()=>n.map(h=>fe.createElement(Qr,{ctrl:h,key:h.instanceId}));return fe.createElement(fe.Fragment,null,a&&fe.createElement("div",{ref:v,className:"ag-pinned-left-header "+g,"aria-hidden":!t,role:"rowgroup"},m()),i&&fe.createElement("div",{ref:v,className:"ag-pinned-right-header "+g,"aria-hidden":!t,role:"rowgroup"},m()),f&&fe.createElement("div",{ref:v,className:"ag-header-viewport "+g,role:"presentation"},fe.createElement("div",{ref:o,className:"ag-header-container",role:"rowgroup"},m())))},Ct=hr(Yr),Zr=()=>{const[e,t]=Ot(()=>new te),[s,n]=Ot(),{context:r}=pr(q),d=It(null),c=It(),o=dr(i=>{if(d.current=i,c.current=i?r.createBean(new lr):r.destroyBean(c.current),!i)return;const f={addOrRemoveCssClass:(v,g)=>t(m=>m.setClass(v,g)),setHeightAndMinHeight:v=>n(v)};c.current.setComp(f,i,i)},[]),u=At(()=>"ag-header "+e.toString(),[e]),a=At(()=>({height:s,minHeight:s}),[s]);return Xe.createElement("div",{ref:o,className:u,style:a,role:"presentation"},Xe.createElement(Ct,{pinned:"left"}),Xe.createElement(Ct,{pinned:null}),Xe.createElement(Ct,{pinned:"right"}))},Xr=ur(Zr);import{useEffect as en}from"react";var tn=(e,t)=>{en(()=>{const s=t.current;if(s){const n=s.parentElement;if(n){const r=document.createComment(e);return n.insertBefore(r,s),()=>{n.removeChild(r)}}}},[e])},ve=tn;import{RowContainerCtrl as sn,_getRowContainerOptions as rn}from"ag-grid-community";import Ue,{memo as nn,useCallback as Le,useContext as on,useMemo as ft,useRef as Be,useState as an}from"react";import{CssClassManager as cn,_EmptyBean as ln}from"ag-grid-community";import Ge,{memo as un,useCallback as dn,useContext as pn,useEffect as Ht,useLayoutEffect as mn,useMemo as _t,useRef as de,useState as pe}from"react";import{CssClassManager as hn,_EmptyBean as Cn,_removeFromParent as fn}from"ag-grid-community";import H,{memo as gn,useCallback as Ve,useContext as yn,useLayoutEffect as gt,useMemo as yt,useRef as ie,useState as me}from"react";import{AgPromise as vn}from"ag-grid-community";var Rn=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new vn(s=>{this.resolveInstanceCreated=s}),this.onValueChange=s=>this.updateValue(s),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){dt(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}};import Ut,{memo as wn,useContext as En,useState as bn}from"react";import{createPortal as Pn}from"react-dom";import{useEffect as Sn,useRef as rt,useState as kn}from"react";var Fn=e=>{const t=rt(e),s=rt(),n=rt(!1),r=rt(!1),[,d]=kn(0);n.current&&(r.current=!0),Sn(()=>(n.current||(s.current=t.current(),n.current=!0),d(c=>c+1),()=>{r.current&&s.current?.()}),[])},Mn=e=>{const[t,s]=bn(),{context:n,popupService:r,localeService:d,gos:c,editService:o}=En(q);return Fn(()=>{const{editDetails:u,cellCtrl:a,eParentCell:i}=e,{compDetails:f}=u,v=c.get("stopEditingWhenCellsLoseFocus"),g=n.createBean(o.createPopupEditorWrapper(f.params)),m=g.getGui();if(e.jsChildComp){const w=e.jsChildComp.getGui();w&&m.appendChild(w)}const h={column:a.getColumn(),rowNode:a.getRowNode(),type:"popupCellEditor",eventSource:i,ePopup:m,position:u.popupPosition,keepWithinBounds:!0},l=r.positionPopupByComponent.bind(r,h),C=d.getLocaleTextFunc(),R=r.addPopup({modal:v,eChild:m,closeOnEsc:!0,closedCallback:()=>{a.onPopupEditorClosed()},anchorToElement:i,positionCallback:l,ariaLabel:C("ariaLabelCellEditor","Cell Editor")}),y=R?R.hideFunc:void 0;return s(g),e.jsChildComp?.afterGuiAttached?.(),()=>{y?.(),n.destroyBean(g)}}),Ut.createElement(Ut.Fragment,null,t&&e.wrappedContent&&Pn(e.wrappedContent,t.getGui()))},Lt=wn(Mn);import{useCallback as Bn,useContext as Gn,useEffect as Vt}from"react";var xn=(e,t,s,n,r,d)=>{const{context:c}=Gn(q),o=Bn(()=>{const u=r.current;if(!u)return;const a=u.getGui();a&&a.parentElement&&a.parentElement.removeChild(a),c.destroyBean(u),r.current=void 0},[]);Vt(()=>{const u=e!=null,a=e?.compDetails&&!e.compDetails.componentFromFramework,i=t&&s==null;if(!(u&&a&&!i)){o();return}const v=e.compDetails;if(r.current){const m=r.current,l=m.refresh!=null&&e.force==!1?m.refresh(v.params):!1;if(l===!0||l===void 0)return;o()}const g=v.newAgStackInstance();g?.then(m=>{if(!m)return;const h=m.getGui();if(!h)return;(t?s:d.current).appendChild(h),r.current=m})},[e,t,n]),Vt(()=>o,[])},An=xn,In=(e,t,s)=>{const{compProxy:n}=e;s(n);const r=n.getProps(),d=Pe(t);return H.createElement(Oe.Provider,{value:{setMethods:c=>n.setMethods(c)}},d?H.createElement(t,{...r}):H.createElement(t,{...r,ref:c=>n.setRef(c)}))},jt=(e,t,s)=>{const n=e.compProxy;return H.createElement(H.Fragment,null,n?In(e,t,s):H.createElement(t,{...e.compDetails.params,ref:s}))},On=(e,t,s,n,r)=>{const d=e.compDetails,c=d.componentClass,o=d.componentFromFramework&&!e.popup,u=d.componentFromFramework&&e.popup,a=!d.componentFromFramework&&e.popup;return H.createElement(H.Fragment,null,o&&jt(e,c,t),u&&H.createElement(Lt,{editDetails:e,cellCtrl:n,eParentCell:s,wrappedContent:jt(e,c,t)}),a&&r&&H.createElement(Lt,{editDetails:e,cellCtrl:n,eParentCell:s,jsChildComp:r}))},Dn=(e,t,s,n,r,d,c)=>{const{compDetails:o,value:u}=e,a=!o,i=o&&o.componentFromFramework,f=o&&o.componentClass,v=u?.toString?u.toString():u,g=()=>H.createElement(H.Fragment,null,a&&H.createElement(H.Fragment,null,v),i&&!d&&H.createElement(f,{...o.params,key:t,ref:n}),i&&d&&H.createElement(f,{...o.params,key:t}));return H.createElement(H.Fragment,null,r?H.createElement("span",{role:"presentation",id:`cell-${s}`,className:"ag-cell-value",ref:c},g()):g())},Wn=({cellCtrl:e,printLayout:t,editingRow:s})=>{const{context:n}=yn(q),{colIdSanitised:r,instanceId:d}=e,c=ie(),[o,u]=me(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[a,i]=me(),[f,v]=me(1),[g,m]=me(),[h,l]=me(!1),[C,R]=me(!1),[y,w]=me(!1),[b,O]=me(),P=yt(()=>e.isForceWrapper(),[e]),k=yt(()=>e.getCellAriaRole(),[e]),M=ie(null),p=ie(null),E=ie(),F=ie(),J=ie(),I=ie([]),_=ie(),[B,G]=me(0),x=Ve(N=>{_.current=N,G($=>$+1)},[]),U=o!=null&&(h||y||C),A=P||U,T=Ve(N=>{if(F.current=N,N){const $=N.isCancelBeforeStart&&N.isCancelBeforeStart();setTimeout(()=>{$?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),W=ie();W.current||(W.current=new hn(()=>M.current)),An(o,A,_.current,B,E,M);const X=ie();gt(()=>{const N=X.current,$=o;if(X.current=o,N==null||N.compDetails==null||$==null||$.compDetails==null)return;const K=N.compDetails,D=$.compDetails;if(K.componentClass!=D.componentClass||p.current?.refresh==null)return;p.current.refresh(D.params)!=!0&&v(Y=>Y+1)},[o]),gt(()=>{if(!(a&&!a.compDetails.componentFromFramework))return;const $=a.compDetails,K=a.popup===!0,D=$.newAgStackInstance();return D.then(z=>{if(!z)return;const Y=z.getGui();T(z),K||((P?J:M).current?.appendChild(Y),z.afterGuiAttached&&z.afterGuiAttached()),O(z)}),()=>{D.then(z=>{const Y=z.getGui();n.destroyBean(z),T(void 0),O(void 0),Y?.parentElement?.removeChild(Y)})}},[a]);const S=Ve(N=>{if(J.current=N,!N){I.current.forEach(K=>K()),I.current=[];return}const $=K=>{if(K){const D=K.getGui();N.insertAdjacentElement("afterbegin",D),I.current.push(()=>{n.destroyBean(K),fn(D)})}return K};if(h){const K=e.createSelectionCheckbox();$(K)}y&&$(e.createDndSource()),C&&$(e.createRowDragComp())},[e,n,y,C,h]),j=Ve(N=>{if(M.current=N,c.current=N?n.createBean(new Cn):n.destroyBean(c.current),!N||!e)return;const $={addOrRemoveCssClass:(D,z)=>W.current.addOrRemoveCssClass(D,z),setUserStyles:D=>m(D),getFocusableElement:()=>M.current,setIncludeSelection:D=>l(D),setIncludeRowDrag:D=>R(D),setIncludeDndSource:D=>w(D),getCellEditor:()=>F.current||null,getCellRenderer:()=>p.current??E.current,getParentOfValue:()=>_.current??J.current??M.current,setRenderDetails:(D,z,Y)=>{u(le=>le?.compDetails!==D||le?.value!==z||le?.force!==Y?{value:z,compDetails:D,force:Y}:le)},setEditDetails:(D,z,Y,le)=>{if(D){let we;le?we=new Rn(D.params,()=>v(nt=>nt+1)):D.componentFromFramework&&Ye(),i({compDetails:D,popup:z,popupPosition:Y,compProxy:we}),z||u(void 0)}else i(we=>{we?.compProxy&&(F.current=void 0)})}},K=J.current||void 0;e.setComp($,N,K,t,s,c.current)},[]),L=yt(()=>!!(o?.compDetails?.componentFromFramework&&Pe(o.compDetails.componentClass)),[o]);gt(()=>{M.current&&(W.current.addOrRemoveCssClass("ag-cell-value",!A),W.current.addOrRemoveCssClass("ag-cell-inline-editing",!!a&&!a.popup),W.current.addOrRemoveCssClass("ag-cell-popup-editing",!!a&&!!a.popup),W.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!a||!!a.popup),e.getRowCtrl()?.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.isEditing()&&M.current.focus({preventScroll:!0}))});const ne=()=>H.createElement(H.Fragment,null,o!=null&&Dn(o,f,d,p,A,L,x),a!=null&&On(a,T,M.current,e,b)),Re=Ve(()=>e.onFocusOut(),[]);return H.createElement("div",{ref:j,style:g,role:k,"col-id":r,onBlur:Re},A?H.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:S},ne()):ne())},Tn=gn(Wn),Nn=({rowCtrl:e,containerType:t})=>{const{context:s,gos:n}=pn(q),r=de(),d=de(e.getDomOrder()),c=e.isFullWidth(),o=e.getRowNode().displayed,[u,a]=pe(()=>o?e.getRowIndex():null),[i,f]=pe(()=>e.getRowId()),[v,g]=pe(()=>e.getBusinessKey()),[m,h]=pe(()=>e.getRowStyles()),l=de(null),C=de(null),[R,y]=pe(()=>null),[w,b]=pe(),[O,P]=pe(()=>o?e.getInitialRowTop(t):void 0),[k,M]=pe(()=>o?e.getInitialTransform(t):void 0),p=de(null),E=de(),F=de(!1),[J,I]=pe(0);Ht(()=>{if(F.current||!w||J>10)return;const S=p.current?.firstChild;S?(e.setupDetailRowAutoHeight(S),F.current=!0):I(j=>j+1)},[w,J]);const _=de();_.current||(_.current=new cn(()=>p.current));const B=dn(S=>{if(p.current=S,r.current=S?s.createBean(new ln):s.destroyBean(r.current),!S){e.unsetComp(t);return}if(!e.isAlive())return;const j={setTop:P,setTransform:M,addOrRemoveCssClass:(L,ne)=>_.current.addOrRemoveCssClass(L,ne),setDomOrder:L=>d.current=L,setRowIndex:a,setRowId:f,setRowBusinessKey:g,setUserStyles:h,setCellCtrls:(L,ne)=>{C.current=l.current,l.current=L;const Re=it(C.current,L,d.current);Re!==C.current&&ct(ne,()=>y(Re))},showFullWidth:L=>b(L),getFullWidthCellRenderer:()=>E.current,refreshFullWidth:L=>T.current?(b(ne=>({...ne,params:L()})),!0):!E.current||!E.current.refresh?!1:E.current.refresh(L())};e.setComp(j,S,t,r.current)},[]);mn(()=>Ie(w,s,p.current,E),[w]);const G=_t(()=>{const S={top:O,transform:k};return Object.assign(S,m),S},[O,k,m]),x=c&&w?.componentFromFramework,U=!c&&R!=null,A=_t(()=>!!(w?.componentFromFramework&&Pe(w.componentClass)),[w]),T=de(!1);Ht(()=>{T.current=A&&!!w&&!!n.get("reactiveCustomComponents")},[A,w]);const W=()=>R?.map(S=>Ge.createElement(Tn,{cellCtrl:S,editingRow:e.isEditing(),printLayout:e.isPrintLayout(),key:S.instanceId})),X=()=>{const S=w.componentClass;return Ge.createElement(Ge.Fragment,null,A?Ge.createElement(S,{...w.params}):Ge.createElement(S,{...w.params,ref:E}))};return Ge.createElement("div",{ref:B,role:"row",style:G,"row-index":u,"row-id":i,"row-business-key":v},U&&W(),x&&X())},Hn=un(Nn),_n=({name:e})=>{const{context:t}=on(q),s=ft(()=>rn(e),[e]),n=Be(null),r=Be(null),d=Be([]),c=Be([]),[o,u]=an(()=>[]),a=Be(!1),i=Be(),f=ft(()=>se(s.viewport),[s]),v=ft(()=>se(s.container),[s]),g=s.type==="center",m=g?n:r;ve(" AG Row Container "+e+" ",m);const h=Le(()=>g?n.current!=null&&r.current!=null:r.current!=null,[]),l=Le(()=>g?n.current==null&&r.current==null:r.current==null,[]),C=Le(()=>{if(l()&&(i.current=t.destroyBean(i.current)),h()){const b=P=>{const k=it(c.current,d.current,a.current);k!==c.current&&(c.current=k,ct(P,()=>u(k)))},O={setHorizontalScroll:P=>{n.current&&(n.current.scrollLeft=P)},setViewportHeight:P=>{n.current&&(n.current.style.height=P)},setRowCtrls:({rowCtrls:P,useFlushSync:k})=>{const M=!!k&&d.current.length>0&&P.length>0;d.current=P,b(M)},setDomOrder:P=>{a.current!=P&&(a.current=P,b(!1))},setContainerWidth:P=>{r.current&&(r.current.style.width=P)},setOffsetTop:P=>{r.current&&(r.current.style.transform=`translateY(${P})`)}};i.current=t.createBean(new sn(e)),i.current.setComp(O,r.current,n.current)}},[h,l]),R=Le(b=>{r.current=b,C()},[C]),y=Le(b=>{n.current=b,C()},[C]),w=()=>Ue.createElement("div",{className:v,ref:R,role:"rowgroup"},o.map(b=>Ue.createElement(Hn,{rowCtrl:b,containerType:s.type,key:b.instanceId})));return Ue.createElement(Ue.Fragment,null,g?Ue.createElement("div",{className:f,ref:y,role:"presentation"},w()):w())},Un=nn(_n),Ln=()=>{const{context:e,resizeObserverService:t}=ir(q),[s,n]=Q(""),[r,d]=Q(0),[c,o]=Q(0),[u,a]=Q("0px"),[i,f]=Q("0px"),[v,g]=Q("100%"),[m,h]=Q("0px"),[l,C]=Q("0px"),[R,y]=Q("100%"),[w,b]=Q(""),[O,P]=Q(""),[k,M]=Q(null),[p,E]=Q(""),[F,J]=Q(null),[I,_]=Q("ag-layout-normal"),B=ce();B.current||(B.current=new Xs(()=>G.current));const G=ce(null),x=ce(null),U=ce(null),A=ce(null),T=ce(null),W=ce(null),X=ce(null),S=ce([]),j=ce([]);ve(" AG Grid Body ",G),ve(" AG Pinned Top ",x),ve(" AG Sticky Top ",U),ve(" AG Middle ",W),ve(" AG Pinned Bottom ",X);const L=cr(oe=>{if(G.current=oe,!oe){S.current=e.destroyBeans(S.current),j.current.forEach(V=>V()),j.current=[];return}if(!e)return;const ze=(V,Z)=>{V.appendChild(Z),j.current.push(()=>V.removeChild(Z))},ot=V=>{const Z=e.createBean(new V);return S.current.push(Z),Z},Ae=(V,Z,qt)=>{ze(V,document.createComment(qt)),ze(V,ot(Z).getGui())};Ae(oe,er," AG Fake Horizontal Scroll "),Ae(oe,rr," AG Overlay Wrapper "),T.current&&Ae(T.current,tr," AG Fake Vertical Scroll ");const Kt={setRowAnimationCssOnBodyViewport:n,setColumnCount:V=>{G.current&&nr(G.current,V)},setRowCount:V=>{G.current&&or(G.current,V)},setTopHeight:d,setBottomHeight:o,setStickyTopHeight:a,setStickyTopTop:f,setStickyTopWidth:g,setTopDisplay:b,setBottomDisplay:P,setColumnMovingCss:(V,Z)=>B.current.addOrRemoveCssClass(V,Z),updateLayoutClasses:_,setAlwaysVerticalScrollClass:M,setPinnedTopBottomOverflowY:E,setCellSelectableCss:(V,Z)=>J(Z?V:null),setBodyViewportWidth:V=>{W.current&&(W.current.style.width=V)},registerBodyViewportResizeListener:V=>{if(W.current){const Z=t.observeResize(W.current,V);j.current.push(()=>Z())}},setStickyBottomHeight:h,setStickyBottomBottom:C,setStickyBottomWidth:y},bt=e.createBean(new sr);S.current.push(bt),bt.setComp(Kt,oe,W.current,x.current,X.current,U.current,A.current)},[]),ne=re(()=>se("ag-root","ag-unselectable",I),[I]),Re=re(()=>se("ag-body-viewport",s,I,k,F),[s,I,k,F]),N=re(()=>se("ag-body",I),[I]),$=re(()=>se("ag-floating-top",F),[F]),K=re(()=>se("ag-sticky-top",F),[F]),D=re(()=>se("ag-sticky-bottom",m==="0px"?"ag-hidden":null,F),[F,m]),z=re(()=>se("ag-floating-bottom",F),[F]),Y=re(()=>({height:r,minHeight:r,display:w,overflowY:p}),[r,w,p]),le=re(()=>({height:u,top:i,width:v}),[u,i,v]),we=re(()=>({height:m,bottom:l,width:R}),[m,l,R]),nt=re(()=>({height:c,minHeight:c,display:O,overflowY:p}),[c,O,p]),Jt=oe=>We.createElement(Un,{name:oe,key:`${oe}-container`}),xe=({section:oe,children:ze,className:ot,style:Ae})=>We.createElement("div",{ref:oe,className:ot,role:"presentation",style:Ae},ze.map(Jt));return We.createElement("div",{ref:L,className:ne,role:"treegrid"},We.createElement(Xr,null),xe({section:x,className:$,style:Y,children:["topLeft","topCenter","topRight","topFullWidth"]}),We.createElement("div",{className:N,ref:T,role:"presentation"},xe({section:W,className:Re,children:["left","center","right","fullWidth"]})),xe({section:U,className:K,style:le,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),xe({section:A,className:D,style:we,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),xe({section:X,className:z,style:nt,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},Vn=ar(Ln);import{TabGuardClassNames as vt,TabGuardCtrl as jn}from"ag-grid-community";import Rt,{forwardRef as zn,memo as $n,useCallback as wt,useContext as Jn,useImperativeHandle as Kn,useRef as Et}from"react";var qn=(e,t)=>{const{children:s,eFocusableElement:n,onTabKeyDown:r,gridCtrl:d,forceFocusOutWhenTabGuardsAreEmpty:c}=e,{context:o}=Jn(q),u=Et(null),a=Et(null),i=Et(),f=l=>{const C=l==null?void 0:parseInt(l,10).toString();[u,a].forEach(R=>{C===void 0?R.current?.removeAttribute("tabindex"):R.current?.setAttribute("tabindex",C)})};Kn(t,()=>({forceFocusOutOfContainer(l){i.current?.forceFocusOutOfContainer(l)}}));const v=wt(()=>{const l=u.current,C=a.current;if(!l&&!C){i.current=o.destroyBean(i.current);return}if(l&&C){const R={setTabIndex:f};i.current=o.createBean(new jn({comp:R,eTopGuard:l,eBottomGuard:C,eFocusableElement:n,onTabKeyDown:r,forceFocusOutWhenTabGuardsAreEmpty:c,focusInnerElement:y=>d.focusInnerElement(y)}))}},[]),g=wt(l=>{u.current=l,v()},[v]),m=wt(l=>{a.current=l,v()},[v]),h=l=>{const C=l==="top"?vt.TAB_GUARD_TOP:vt.TAB_GUARD_BOTTOM;return Rt.createElement("div",{className:`${vt.TAB_GUARD} ${C}`,role:"presentation",ref:l==="top"?g:m})};return Rt.createElement(Rt.Fragment,null,h("top"),s,h("bottom"))},Qn=zn(qn),Yn=$n(Qn),Zn=({context:e})=>{const[t,s]=he(""),[n,r]=he(""),[d,c]=he(""),[o,u]=he(null),[a,i]=he(null),[f,v]=he(!1),[g,m]=he(),h=Se(),l=Se(null),C=Se(),[R,y]=he(null),w=Se(()=>{}),b=Se(),O=Se([]),P=pt(()=>{},[]),k=Ze(()=>e.isDestroyed()?null:e.getBeans(),[e]);ve(" AG Grid ",l);const M=pt(I=>{if(l.current=I,h.current=I?e.createBean(new Qs):e.destroyBean(h.current),!I||e.isDestroyed())return;const _=h.current;w.current=_.focusInnerElement.bind(_);const B={destroyGridUi:()=>{},setRtlClass:s,setGridThemeClass:r,forceFocusOutOfContainer:G=>{if(!G&&b.current?.isDisplayed()){b.current.forceFocusOutOfContainer(G);return}C.current?.forceFocusOutOfContainer(G)},updateLayoutClasses:c,getFocusableContainers:()=>{const G=[],x=l.current?.querySelector(".ag-root");return x&&G.push({getGui:()=>x}),O.current.forEach(U=>{U.isDisplayed()&&G.push(U)}),G},setCursor:u,setUserSelect:i};_.setComp(B,I,I),v(!0)},[]);Zs(()=>{const I=h.current,_=l.current;if(!g||!k||!I||!R||!_)return;const B=[],{watermarkSelector:G,paginationSelector:x,sideBarSelector:U,statusBarSelector:A,gridHeaderDropZonesSelector:T}=I.getOptionalSelectors(),W=[];if(T){const S=e.createBean(new T.component),j=S.getGui();_.insertAdjacentElement("afterbegin",j),W.push(j),B.push(S)}if(U){const S=e.createBean(new U.component),j=S.getGui(),L=R.querySelector(".ag-tab-guard-bottom");L&&(L.insertAdjacentElement("beforebegin",j),W.push(j)),B.push(S),O.current.push(S)}const X=S=>{const j=e.createBean(new S),L=j.getGui();return _.insertAdjacentElement("beforeend",L),W.push(L),B.push(j),j};if(A&&X(A.component),x){const S=X(x.component);b.current=S,O.current.push(S)}return G&&X(G.component),()=>{e.destroyBeans(B),W.forEach(S=>{S.parentElement?.removeChild(S)})}},[g,R,k]);const p=Ze(()=>se("ag-root-wrapper",t,n,d),[t,n,d]),E=Ze(()=>se("ag-root-wrapper-body","ag-focus-managed",d),[d]),F=Ze(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:o??""}),[a,o]),J=pt(I=>{C.current=I,m(I!==null)},[]);return De.createElement("div",{ref:M,className:p,style:F,role:"presentation"},De.createElement("div",{className:E,ref:y,role:"presentation"},f&&R&&k&&De.createElement(q.Provider,{value:k},De.createElement(Yn,{ref:J,eFocusableElement:R,onTabKeyDown:P,gridCtrl:h.current,forceFocusOutWhenTabGuardsAreEmpty:!0},De.createElement(Vn,null)))))},Xn=Ys(Zn);import{BeanStub as eo}from"ag-grid-community";var to=class extends eo{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},zt=e=>{const t=ee(),s=ee(null),n=ee(null),r=ee([]),d=ee([]),c=ee(e),o=ee(),u=ee(),a=ee(!1),[i,f]=Ee(void 0),[,v]=Ee(0),g=Je(l=>{if(s.current=l,!l){r.current.forEach(p=>p()),r.current.length=0;return}const C=e.modules||[];n.current||(n.current=new qs(()=>v(p=>p+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),r.current.push(()=>{n.current?.destroy(),n.current=null}));const R=ss(e.gridOptions,e),y=()=>{if(a.current){const p=()=>o.current?.shouldQueueUpdates()?void 0:d.current.shift();let E=p();for(;E;)E(),E=p()}},w=new oo(y);o.current=w;const b=new to,O={providedBeanInstances:{frameworkComponentWrapper:new ro(n.current,R.reactiveCustomComponents??rs("reactiveCustomComponents")??!0),renderStatusService:b},modules:C,frameworkOverrides:w},P=p=>{f(p),p.createBean(b),r.current.push(()=>{p.destroy()}),p.getBean("ctrlsService").whenReady({addDestroyFunc:E=>{r.current.push(E)}},()=>{if(p.isDestroyed())return;const E=t.current;E&&e.setGridApi?.(E)})},k=p=>{p.getBean("ctrlsService").whenReady({addDestroyFunc:E=>{r.current.push(E)}},()=>{d.current.forEach(E=>E()),d.current.length=0,a.current=!0})},M=new Xt;R.gridId??(R.gridId=u.current),t.current=M.create(l,R,P,k,O),r.current.push(()=>{t.current=void 0}),u.current=t.current.getGridId()},[]),m=Ke(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),h=Je(l=>{a.current&&!o.current?.shouldQueueUpdates()?l():d.current.push(l)},[]);return us(()=>{const l=so(c.current,e);c.current=e,h(()=>{t.current&&as(l,t.current)})},[e]),$e.createElement("div",{style:m,className:e.className,ref:g},i&&!i.isDestroyed()?$e.createElement(Xn,{context:i}):null,n.current?.getPortals()??null)};function so(e,t){const s={};return Object.keys(t).forEach(n=>{const r=t[n];e[n]!==r&&(s[n]=r)}),s}var ro=class extends Zt{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const r=(d=>{switch(d){case"filter":return Ws;case"floatingFilterComponent":return Hs;case"dateComponent":return Os;case"dragAndDropImageComponent":return Ds;case"loadingOverlayComponent":return _s;case"noRowsOverlayComponent":return Ls;case"statusPanel":return Vs;case"toolPanel":return js;case"menuItem":return Us;case"cellRenderer":return Is}})(t.propertyName);if(r)return new r(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Ye();break}const s=!t.cellRenderer&&t.propertyName!=="toolPanel";return new Gt(e,this.parent,t,s)}},no=is((e,t)=>{const{ctrlsFactory:s,context:n,gos:r,resizeObserverService:d,rowModel:c}=ls(q),[o,u]=Ee(()=>new te),[a,i]=Ee(()=>new te),[f,v]=Ee(),[g,m]=Ee(),h=ee(),l=ee(null),C=ee(),R=Ke(()=>es.__getGridRegisteredModules(e.api.getGridId()),[e]),y=Ke(()=>o.toString()+" ag-details-row",[o]),w=Ke(()=>a.toString()+" ag-details-grid",[a]);t&&ds(t,()=>({refresh(){return h.current?.refresh()??!1}})),e.template&&cs("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const b=Je(P=>{if(l.current=P,!P){h.current=n.destroyBean(h.current),C.current?.();return}const k={addOrRemoveCssClass:(p,E)=>u(F=>F.setClass(p,E)),addOrRemoveDetailGridCssClass:(p,E)=>i(F=>F.setClass(p,E)),setDetailGrid:p=>v(p),setRowData:p=>m(p),getGui:()=>l.current},M=s.getInstance("detailCellRenderer");if(M&&(n.createBean(M),M.init(k,e),h.current=M,r.get("detailRowAutoHeight"))){const p=()=>{if(l.current==null)return;const E=l.current.clientHeight;E!=null&&E>0&&setTimeout(()=>{e.node.setRowHeight(E),(ns(r)||os(r))&&c.onRowHeightChanged()},0)};C.current=d.observeResize(P,p),p()}},[]),O=Je(P=>{h.current?.registerDetailWithMaster(P)},[]);return $e.createElement("div",{className:y,ref:b},f&&$e.createElement(zt,{className:w,...f,modules:R,rowData:g,setGridApi:O}))}),oo=class extends ts{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:kt,agGroupRowRenderer:kt,agDetailCellRenderer:no},this.wrapIncoming=(t,s)=>s==="ensureVisible"?bs(t):t(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return Es()}},ao=class extends Yt{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return Qt.createElement(zt,{...this.props,setGridApi:this.setGridApi})}};import{useContext as co}from"react";function je(e){const{setMethods:t}=co(Oe);t(e)}function io(e){je(e)}function lo(e){return je(e)}function uo(e){return je(e)}function po(e){je(e)}function mo(e){je(e)}export{ao as AgGridReact,Oe as CustomComponentContext,Js as getInstance,io as useGridCellEditor,lo as useGridDate,uo as useGridFilter,po as useGridFloatingFilter,mo as useGridMenuItem,Ye as warnReactiveCustomComponents};
